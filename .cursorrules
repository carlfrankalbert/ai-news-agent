# AI News Agent

## Prosjektbeskrivelse

En AI-agent som scanner Hacker News og GitHub for omtaler av AI-verktøy, analyserer dataene med Claude, og genererer en rangert oversikt i JSON og HTML-format. Agenten kjører automatisk daglig via GitHub Actions og publiserer resultater til Cloudflare Pages.

## Arkitektur

```
┌─────────────┐     ┌──────────────┐     ┌─────────────┐     ┌──────────┐
│   main.py   │────▶│  collectors/ │────▶│  analyzer   │────▶│  output/ │
│ (orkestrer) │     │ (HN/GitHub)  │     │  (Claude)   │     │  (JSON)  │
└─────────────┘     └──────────────┘     └─────────────┘     └──────────┘
                                                                   │
                                                                   ▼
                                                            ┌──────────┐
                                                            │  docs/   │
                                                            │  (HTML)  │
                                                            └──────────┘
```

## Mappestruktur

```
ai-news-agent/
├── src/ai_news_agent/         # Hovedpakken (all Python-kode)
│   ├── main.py                # Hovedlogikk og CLI
│   ├── config.py              # Konfigurasjon (keywords, kategorier)
│   ├── collectors/            # Datainnsamling
│   │   ├── hackernews.py      # Hacker News Firebase API
│   │   └── github.py          # GitHub trending repos
│   ├── analyzer/              # Analyse
│   │   ├── analyzer.py        # Claude-analyse og rangering
│   │   └── trend_analyzer.py  # Sammenligning med forrige måned
│   ├── generator/             # Output-generering
│   │   └── generate_html.py   # HTML-generering
│   └── utils/                 # Hjelpefunksjoner
│       └── link_checker.py    # Validerer URLs
│
├── main.py                    # Entry point
├── generate_html.py           # HTML generator entry point
├── check_links.py             # Link checker entry point
│
├── docs/                      # Public website (Cloudflare Pages)
│   ├── index.html             # Hovedside med rankings
│   ├── faq.html               # FAQ
│   └── assets/                # Logoer
│
├── output/                    # JSON-output
│   ├── rankings_YYYY-MM.json  # Månedlige rankings
│   └── raw_posts_YYYY-MM.json # Rådata
│
├── data/tool_links.json       # Verktøy-URLs
├── scripts/                   # Shell-scripts for testing
├── functions/healthcheck.js   # Cloudflare Pages health endpoint
├── documentation/             # Design docs og guider
│
├── .github/workflows/
│   ├── daily.yml              # Daglig kjøring
│   └── check_links.yml        # Link validering
│
├── pyproject.toml
├── requirements.txt
├── README.md
└── QUICKSTART.md
```

## Teknisk stack

- **Python 3.11+** med httpx og anthropic SDK
- **GitHub Actions** for daglig kjøring
- **Cloudflare Pages** for hosting

## Dataflyt

1. `collectors/` henter data fra HN og GitHub
2. Filtrerer på AI-keywords fra `config.py`
3. `analyzer/` sender til Claude for analyse
4. `trend_analyzer.py` sammenligner med forrige måned
5. `generator/` lager HTML til `docs/`
6. GitHub Actions committer, Cloudflare Pages deployer

## Vanlige oppgaver

```bash
# Full pipeline
python main.py

# Bare samle data (gratis)
python main.py --collect-only

# Generer HTML
python generate_html.py

# Test med dummy-data
python generate_html.py --dummy
```

## Viktige filer

| Fil | Formål |
|-----|--------|
| `src/ai_news_agent/config.py` | Keywords og kategorier |
| `src/ai_news_agent/analyzer/analyzer.py` | Claude-prompt |
| `src/ai_news_agent/generator/generate_html.py` | HTML-template |
| `data/tool_links.json` | Verktøy-URLs |
| `.github/workflows/daily.yml` | Automatisk kjøring |
